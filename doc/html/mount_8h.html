<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<title>SneakyFS: mount.h File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">SneakyFS
   &#160;<span id="projectnumber">1.0</span>
   </div>
   <div id="projectbrief">A Secure UNIX File System</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.2 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="annotated.html"><span>Data&#160;Structures</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="files.html"><span>File&#160;List</span></a></li>
      <li><a href="globals.html"><span>Globals</span></a></li>
    </ul>
  </div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('mount_8h.html','');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Data Structures</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Files</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Typedefs</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&#160;</span>Enumerations</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(7)"><span class="SelectionMark">&#160;</span>Enumerator</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(8)"><span class="SelectionMark">&#160;</span>Macros</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(9)"><span class="SelectionMark">&#160;</span>Pages</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">mount.h File Reference</div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><code>#include &quot;<a class="el" href="glob__data_8h_source.html">glob_data.h</a>&quot;</code><br/>
<code>#include &quot;<a class="el" href="super__block_8h_source.html">super_block.h</a>&quot;</code><br/>
<code>#include &quot;<a class="el" href="error_8h_source.html">error.h</a>&quot;</code><br/>
</div><div class="textblock"><div class="dynheader">
Include dependency graph for mount.h:</div>
<div class="dyncontent">
<div class="center"><img src="mount_8h__incl.png" border="0" usemap="#mount_8h" alt=""/></div>
<map name="mount_8h" id="mount_8h">
<area shape="rect" id="node3" href="glob__data_8h.html" title="glob_data.h" alt="" coords="5,229,93,256"/><area shape="rect" id="node9" href="super__block_8h.html" title="super_block.h" alt="" coords="301,80,403,107"/><area shape="rect" id="node16" href="error_8h.html" title="error.h" alt="" coords="492,229,549,256"/><area shape="rect" id="node11" href="glob__func_8h.html" title="glob_func.h" alt="" coords="294,155,383,181"/></map>
</div>
</div><div class="textblock"><div class="dynheader">
This graph shows which files directly or indirectly include this file:</div>
<div class="dyncontent">
<div class="center"><img src="mount_8h__dep__incl.png" border="0" usemap="#mount_8hdep" alt=""/></div>
<map name="mount_8hdep" id="mount_8hdep">
<area shape="rect" id="node3" href="create__file_8c.html" title="create_file.c" alt="" coords="5,80,99,107"/><area shape="rect" id="node5" href="mount_8c.html" title="mount.c" alt="" coords="123,80,192,107"/><area shape="rect" id="node7" href="sfstest_8c.html" title="sfstest.c" alt="" coords="217,80,289,107"/></map>
</div>
</div>
<p><a href="mount_8h_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:ad8988b7a3c735f8499da90b745024829"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="mount_8h.html#ad8988b7a3c735f8499da90b745024829">mount</a> (void)</td></tr>
<tr class="memdesc:ad8988b7a3c735f8499da90b745024829"><td class="mdescLeft">&#160;</td><td class="mdescRight">Attempt to mount the filesystem on disk.  <a href="#ad8988b7a3c735f8499da90b745024829"></a><br/></td></tr>
<tr class="separator:ad8988b7a3c735f8499da90b745024829"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae235328c90c13a872983bba459cae85a"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="mount_8h.html#ae235328c90c13a872983bba459cae85a">validate_super_block</a> (void)</td></tr>
<tr class="memdesc:ae235328c90c13a872983bba459cae85a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Validate the super block on the disk.  <a href="#ae235328c90c13a872983bba459cae85a"></a><br/></td></tr>
<tr class="separator:ae235328c90c13a872983bba459cae85a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a578d64ff5c10d5db2372ecf78e855b11"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="mount_8h.html#a578d64ff5c10d5db2372ecf78e855b11">validate_root_dir</a> (void)</td></tr>
<tr class="memdesc:a578d64ff5c10d5db2372ecf78e855b11"><td class="mdescLeft">&#160;</td><td class="mdescRight">Validate that there is a root directory on the disk.  <a href="#a578d64ff5c10d5db2372ecf78e855b11"></a><br/></td></tr>
<tr class="separator:a578d64ff5c10d5db2372ecf78e855b11"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<h2 class="groupheader">Function Documentation</h2>
<a class="anchor" id="ad8988b7a3c735f8499da90b745024829"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int mount </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Attempt to mount the filesystem on disk. </p>
<p>This funcion calls validation methods to ensure that the mount is possible, and file system isn't corrupted. It verifies that the unique identifiers and checksums associated with the various structures on disk are valid and in working order.</p>
<dl class="section return"><dt>Returns</dt><dd>Returns an integer value, if value = 1 the file system has passed validation. If value = -1 the file system has failed to validate and should be reinitialized.</dd></dl>
<dl class="section author"><dt>Author</dt><dd>Daniel Smullen</dd>
<dd>
Jonathan Gillett</dd>
<dd>
Joseph Heron</dd></dl>
<dl class="section copyright"><dt>Copyright</dt><dd>GNU General Public License V3 </dd></dl>

<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="mount_8h_ad8988b7a3c735f8499da90b745024829_cgraph.png" border="0" usemap="#mount_8h_ad8988b7a3c735f8499da90b745024829_cgraph" alt=""/></div>
<map name="mount_8h_ad8988b7a3c735f8499da90b745024829_cgraph" id="mount_8h_ad8988b7a3c735f8499da90b745024829_cgraph">
<area shape="rect" id="node3" href="mount_8c.html#ae235328c90c13a872983bba459cae85a" title="Validate the super block on the disk." alt="" coords="112,107,256,133"/><area shape="rect" id="node13" href="mount_8c.html#a578d64ff5c10d5db2372ecf78e855b11" title="Validate that there is a root directory on the disk." alt="" coords="304,56,421,83"/><area shape="rect" id="node23" href="free__block__list_8c.html#a4fb9e58d343f5d00bfddf8b2aabe4a05" title="Obtains a handle to the free block list static instance, regardless of whether it is available in mem..." alt="" coords="119,183,249,209"/><area shape="rect" id="node5" href="super__block_8c.html#ac90e51acfc45bd4a7daa71817ab3508a" title="Get a handle to the super block." alt="" coords="484,107,601,133"/><area shape="rect" id="node7" href="glob__func_8c.html#a4f496ee5ac2e8ea15ed2d44dd16828a1" title="Allocate a buffer to write to memory of a given size." alt="" coords="665,69,757,96"/><area shape="rect" id="node9" href="block__func_8c.html#a1dcadd38a012a1218ab2100bda116861" title="A wrapper for the get_block function." alt="" coords="668,145,753,172"/><area shape="rect" id="node11" href="blockio_8c.html#aba494f8ba12c5888abc3991a9a1a4fa0" title="Retrieves a block from disk." alt="" coords="806,145,885,172"/><area shape="rect" id="node15" href="_i__node_8c.html#a0626a73db422faeaffe6ec35cfbfa8d4" title="Get an inode&#39;s UUID given its location on disk." alt="" coords="507,5,578,32"/><area shape="rect" id="node19" href="super__block_8c.html#a5bdef04f60586e309e3e42e89326d62d" title="Get the location of the root directory." alt="" coords="508,56,577,83"/><area shape="rect" id="node25" href="free__block__list_8c.html#ae1a3d63476e1321750e8e4aedbc53f07" title="Overwrites the free block list in memory with the most recent version on disk." alt="" coords="327,196,399,223"/><area shape="rect" id="node27" href="super__block_8c.html#a6bea61bb8314c0f57646b8337d5adf48" title="Get the location of the free block list&#39;s first index block." alt="" coords="470,157,615,184"/><area shape="rect" id="node31" href="index__block_8c.html#a58c6c55e76e88de10da638a624574947" title="This function takes an index block data structure and returns the locations of all data blocks which ..." alt="" coords="495,283,591,309"/><area shape="rect" id="node34" href="glob__func_8c.html#ae6b48ca0727ba8a874b5442254e1d31a" title="Concatenate two arrays." alt="" coords="680,257,741,284"/><area shape="rect" id="node36" href="glob__func_8c.html#a12db81dbcf4d3c41013509bb19d7053c" title="Concatenate two byte arrays." alt="" coords="668,308,753,335"/></map>
</div>
</p>

<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="mount_8h_ad8988b7a3c735f8499da90b745024829_icgraph.png" border="0" usemap="#mount_8h_ad8988b7a3c735f8499da90b745024829_icgraph" alt=""/></div>
<map name="mount_8h_ad8988b7a3c735f8499da90b745024829_icgraph" id="mount_8h_ad8988b7a3c735f8499da90b745024829_icgraph">
<area shape="rect" id="node3" href="sfstest_8c.html#a88d3b903798a494fd7297714fd0e5c4c" title="sfs_test" alt="" coords="112,5,181,32"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a578d64ff5c10d5db2372ecf78e855b11"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int validate_root_dir </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Validate that there is a root directory on the disk. </p>
<p>This function checks the location for the root directory on disk specified by the super block, and determines if the file at that location is valid.</p>
<dl class="section return"><dt>Returns</dt><dd>Returns an integer value, if value = 1 the root directory structure which exists on disk passed validation. If value = -1, the structure failed validation.</dd></dl>
<dl class="section author"><dt>Author</dt><dd>Daniel Smullen</dd>
<dd>
Jonathan Gillett</dd>
<dd>
Joseph Heron</dd></dl>
<dl class="section copyright"><dt>Copyright</dt><dd>GNU General Public License V3 </dd></dl>

<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="mount_8h_a578d64ff5c10d5db2372ecf78e855b11_cgraph.png" border="0" usemap="#mount_8h_a578d64ff5c10d5db2372ecf78e855b11_cgraph" alt=""/></div>
<map name="mount_8h_a578d64ff5c10d5db2372ecf78e855b11_cgraph" id="mount_8h_a578d64ff5c10d5db2372ecf78e855b11_cgraph">
<area shape="rect" id="node3" href="_i__node_8c.html#a0626a73db422faeaffe6ec35cfbfa8d4" title="Get an inode&#39;s UUID given its location on disk." alt="" coords="171,5,242,32"/><area shape="rect" id="node11" href="super__block_8c.html#a5bdef04f60586e309e3e42e89326d62d" title="Get the location of the root directory." alt="" coords="172,56,241,83"/><area shape="rect" id="node5" href="glob__func_8c.html#a4f496ee5ac2e8ea15ed2d44dd16828a1" title="Allocate a buffer to write to memory of a given size." alt="" coords="291,5,383,32"/><area shape="rect" id="node7" href="block__func_8c.html#a1dcadd38a012a1218ab2100bda116861" title="A wrapper for the get_block function." alt="" coords="295,56,380,83"/><area shape="rect" id="node9" href="blockio_8c.html#aba494f8ba12c5888abc3991a9a1a4fa0" title="Retrieves a block from disk." alt="" coords="433,56,511,83"/></map>
</div>
</p>

<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="mount_8h_a578d64ff5c10d5db2372ecf78e855b11_icgraph.png" border="0" usemap="#mount_8h_a578d64ff5c10d5db2372ecf78e855b11_icgraph" alt=""/></div>
<map name="mount_8h_a578d64ff5c10d5db2372ecf78e855b11_icgraph" id="mount_8h_a578d64ff5c10d5db2372ecf78e855b11_icgraph">
<area shape="rect" id="node3" href="create__file_8h.html#a10498692a07aacf1e88110005e3f2f3f" title="Creates a new file or directory at the path specified." alt="" coords="171,56,253,83"/><area shape="rect" id="node10" href="mount_8h.html#ad8988b7a3c735f8499da90b745024829" title="Attempt to mount the filesystem on disk." alt="" coords="320,107,379,133"/><area shape="rect" id="node5" href="initialize_8h.html#a19433b013c630f41f2a2162275594858" title="Initialize the superblock for the file system." alt="" coords="302,5,397,32"/><area shape="rect" id="node7" href="sfstest_8c.html#a88d3b903798a494fd7297714fd0e5c4c" title="sfs_test" alt="" coords="445,56,515,83"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="ae235328c90c13a872983bba459cae85a"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int validate_super_block </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Validate the super block on the disk. </p>
<p>This function determines the integrity of the super block data by validating its unique identifier and checksum.</p>
<dl class="section return"><dt>Returns</dt><dd>Returns an integer value. If value = 1 the super block has passed validation. If the value = -1, the super block has failed validation and should be reinitialized.</dd></dl>
<dl class="section author"><dt>Author</dt><dd>Daniel Smullen</dd>
<dd>
Jonathan Gillett</dd>
<dd>
Joseph Heron</dd></dl>
<dl class="section copyright"><dt>Copyright</dt><dd>GNU General Public License V3 </dd></dl>

<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="mount_8h_ae235328c90c13a872983bba459cae85a_cgraph.png" border="0" usemap="#mount_8h_ae235328c90c13a872983bba459cae85a_cgraph" alt=""/></div>
<map name="mount_8h_ae235328c90c13a872983bba459cae85a_cgraph" id="mount_8h_ae235328c90c13a872983bba459cae85a_cgraph">
<area shape="rect" id="node3" href="super__block_8c.html#ac90e51acfc45bd4a7daa71817ab3508a" title="Get a handle to the super block." alt="" coords="197,31,315,57"/><area shape="rect" id="node5" href="glob__func_8c.html#a4f496ee5ac2e8ea15ed2d44dd16828a1" title="Allocate a buffer to write to memory of a given size." alt="" coords="363,5,455,32"/><area shape="rect" id="node7" href="block__func_8c.html#a1dcadd38a012a1218ab2100bda116861" title="A wrapper for the get_block function." alt="" coords="367,56,452,83"/><area shape="rect" id="node9" href="blockio_8c.html#aba494f8ba12c5888abc3991a9a1a4fa0" title="Retrieves a block from disk." alt="" coords="505,56,583,83"/></map>
</div>
</p>

<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="mount_8h_ae235328c90c13a872983bba459cae85a_icgraph.png" border="0" usemap="#mount_8h_ae235328c90c13a872983bba459cae85a_icgraph" alt=""/></div>
<map name="mount_8h_ae235328c90c13a872983bba459cae85a_icgraph" id="mount_8h_ae235328c90c13a872983bba459cae85a_icgraph">
<area shape="rect" id="node3" href="mount_8h.html#ad8988b7a3c735f8499da90b745024829" title="Attempt to mount the filesystem on disk." alt="" coords="197,5,256,32"/><area shape="rect" id="node5" href="sfstest_8c.html#a88d3b903798a494fd7297714fd0e5c4c" title="sfs_test" alt="" coords="304,5,373,32"/></map>
</div>
</p>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="dir_68267d1309a1af8e8297ef4c3efbcdba.html">src</a></li><li class="navelem"><a class="el" href="mount_8h.html">mount.h</a></li>
    
    
    
  </ul>
</div>
</body>
</html>
