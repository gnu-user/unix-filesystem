<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<title>SneakyFS: write_file.h File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">SneakyFS
   &#160;<span id="projectnumber">1.0</span>
   </div>
   <div id="projectbrief">A Secure UNIX File System</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.2 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="annotated.html"><span>Data&#160;Structures</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="files.html"><span>File&#160;List</span></a></li>
      <li><a href="globals.html"><span>Globals</span></a></li>
    </ul>
  </div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('write__file_8h.html','');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Data Structures</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Files</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Typedefs</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&#160;</span>Enumerations</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(7)"><span class="SelectionMark">&#160;</span>Enumerator</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(8)"><span class="SelectionMark">&#160;</span>Macros</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(9)"><span class="SelectionMark">&#160;</span>Pages</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">write_file.h File Reference</div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><code>#include &quot;<a class="el" href="error_8h_source.html">error.h</a>&quot;</code><br/>
</div><div class="textblock"><div class="dynheader">
Include dependency graph for write_file.h:</div>
<div class="dyncontent">
<div class="center"><img src="write__file_8h__incl.png" border="0" usemap="#write__file_8h" alt=""/></div>
<map name="write__file_8h" id="write__file_8h">
<area shape="rect" id="node3" href="error_8h.html" title="error.h" alt="" coords="19,80,76,107"/></map>
</div>
</div><div class="textblock"><div class="dynheader">
This graph shows which files directly or indirectly include this file:</div>
<div class="dyncontent">
<div class="center"><img src="write__file_8h__dep__incl.png" border="0" usemap="#write__file_8hdep" alt=""/></div>
<map name="write__file_8hdep" id="write__file_8hdep">
<area shape="rect" id="node3" href="write__file_8c.html" title="write_file.c" alt="" coords="5,80,91,107"/></map>
</div>
</div>
<p><a href="write__file_8h_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:afa4abb6cfe6d1a2e92e9f514a117e531"><td class="memItemLeft" align="right" valign="top"><a class="el" href="glob__data_8h.html#a238700ea28ed21bbf81f06baafc77e1c">block</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="write__file_8h.html#afa4abb6cfe6d1a2e92e9f514a117e531">modify_data</a> (int32_t start, uint32_t length, <a class="el" href="glob__data_8h.html#a82b52bf2b45e214a8f2100ebfdf1aee4">byte</a> *data_buf, <a class="el" href="glob__data_8h.html#a82b52bf2b45e214a8f2100ebfdf1aee4">byte</a> *actual_data)</td></tr>
<tr class="memdesc:afa4abb6cfe6d1a2e92e9f514a117e531"><td class="mdescLeft">&#160;</td><td class="mdescRight">Modifies or appends data in a buffer.  <a href="#afa4abb6cfe6d1a2e92e9f514a117e531"></a><br/></td></tr>
<tr class="separator:afa4abb6cfe6d1a2e92e9f514a117e531"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3b52a4078bc59ea042a076f962d42847"><td class="memItemLeft" align="right" valign="top"><a class="el" href="glob__data_8h.html#a238700ea28ed21bbf81f06baafc77e1c">block</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="write__file_8h.html#a3b52a4078bc59ea042a076f962d42847">segment_data</a> (<a class="el" href="glob__data_8h.html#a82b52bf2b45e214a8f2100ebfdf1aee4">byte</a> *data_buf)</td></tr>
<tr class="memdesc:a3b52a4078bc59ea042a076f962d42847"><td class="mdescLeft">&#160;</td><td class="mdescRight">Segments a buffer into block sized chunks of data.  <a href="#a3b52a4078bc59ea042a076f962d42847"></a><br/></td></tr>
<tr class="separator:a3b52a4078bc59ea042a076f962d42847"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0a44cca95b59aaddaa4767ac5adb546d"><td class="memItemLeft" align="right" valign="top"><a class="el" href="glob__data_8h.html#a238700ea28ed21bbf81f06baafc77e1c">block</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="write__file_8h.html#a0a44cca95b59aaddaa4767ac5adb546d">segment_data_len</a> (<a class="el" href="glob__data_8h.html#a82b52bf2b45e214a8f2100ebfdf1aee4">byte</a> *data_buf, uint32_t length)</td></tr>
<tr class="memdesc:a0a44cca95b59aaddaa4767ac5adb546d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Segments a buffer into block sized chunks of data.  <a href="#a0a44cca95b59aaddaa4767ac5adb546d"></a><br/></td></tr>
<tr class="separator:a0a44cca95b59aaddaa4767ac5adb546d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a27cf11a1ac685bf2dbd4feca5f2a68dd"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="write__file_8h.html#a27cf11a1ac685bf2dbd4feca5f2a68dd">sfs_write</a> (int fd, int start, int length, <a class="el" href="glob__data_8h.html#a82b52bf2b45e214a8f2100ebfdf1aee4">byte</a> *mem_pointer)</td></tr>
<tr class="memdesc:a27cf11a1ac685bf2dbd4feca5f2a68dd"><td class="mdescLeft">&#160;</td><td class="mdescRight">Write data to a file.  <a href="#a27cf11a1ac685bf2dbd4feca5f2a68dd"></a><br/></td></tr>
<tr class="separator:a27cf11a1ac685bf2dbd4feca5f2a68dd"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<h2 class="groupheader">Function Documentation</h2>
<a class="anchor" id="afa4abb6cfe6d1a2e92e9f514a117e531"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="glob__data_8h.html#a238700ea28ed21bbf81f06baafc77e1c">block</a>* modify_data </td>
          <td>(</td>
          <td class="paramtype">int32_t&#160;</td>
          <td class="paramname"><em>start</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>length</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="glob__data_8h.html#a82b52bf2b45e214a8f2100ebfdf1aee4">byte</a> *&#160;</td>
          <td class="paramname"><em>data_buf</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="glob__data_8h.html#a82b52bf2b45e214a8f2100ebfdf1aee4">byte</a> *&#160;</td>
          <td class="paramname"><em>actual_data</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Modifies or appends data in a buffer. </p>
<p>Modifies the data in the buffer with the actual data provided at the starting point and length of data specified. If the starting value is -1 then the data is appended to the buffer for the length specified.</p>
<dl class="section note"><dt>Note</dt><dd>In order to provide support for appending data using start = -1, the parameter type MUST be signed, which is int32_t.</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">start</td><td>The starting offset to alter the data at. If the value provided is -1, append data to the end of the buffer. If start &gt;= 0 then actual data is inserted (overwrites) from start for the length of actual data.</td></tr>
    <tr><td class="paramname">length</td><td>The length of data to overwrite in the buffer, or to append to the buffer.</td></tr>
    <tr><td class="paramname">data_buf</td><td>A pointer to the data buffer to be altered or appended to.</td></tr>
    <tr><td class="paramname">actual_data</td><td>The data to overwrite the data buffer with or append to.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Returns a null terminated array of blocks, if an error occurs then NULL is returned.</dd></dl>
<dl class="section author"><dt>Author</dt><dd>Daniel Smullen</dd>
<dd>
Jonathan Gillett</dd>
<dd>
Joseph Heron</dd></dl>
<dl class="section copyright"><dt>Copyright</dt><dd>GNU General Public License V3 </dd></dl>

<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="write__file_8h_afa4abb6cfe6d1a2e92e9f514a117e531_cgraph.png" border="0" usemap="#write__file_8h_afa4abb6cfe6d1a2e92e9f514a117e531_cgraph" alt=""/></div>
<map name="write__file_8h_afa4abb6cfe6d1a2e92e9f514a117e531_cgraph" id="write__file_8h_afa4abb6cfe6d1a2e92e9f514a117e531_cgraph">
<area shape="rect" id="node3" href="write__file_8c.html#a3b52a4078bc59ea042a076f962d42847" title="Segments a buffer into block sized chunks of data." alt="" coords="147,5,251,32"/><area shape="rect" id="node5" href="glob__func_8c.html#a12db81dbcf4d3c41013509bb19d7053c" title="Concatenate two byte arrays." alt="" coords="156,56,241,83"/></map>
</div>
</p>

<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="write__file_8h_afa4abb6cfe6d1a2e92e9f514a117e531_icgraph.png" border="0" usemap="#write__file_8h_afa4abb6cfe6d1a2e92e9f514a117e531_icgraph" alt=""/></div>
<map name="write__file_8h_afa4abb6cfe6d1a2e92e9f514a117e531_icgraph" id="write__file_8h_afa4abb6cfe6d1a2e92e9f514a117e531_icgraph">
<area shape="rect" id="node3" href="write__file_8h.html#a27cf11a1ac685bf2dbd4feca5f2a68dd" title="Write data to a file." alt="" coords="147,5,221,32"/><area shape="rect" id="node5" href="sfstest_8c.html#a88d3b903798a494fd7297714fd0e5c4c" title="sfs_test" alt="" coords="269,5,339,32"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a3b52a4078bc59ea042a076f962d42847"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="glob__data_8h.html#a238700ea28ed21bbf81f06baafc77e1c">block</a>* segment_data </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="glob__data_8h.html#a82b52bf2b45e214a8f2100ebfdf1aee4">byte</a> *&#160;</td>
          <td class="paramname"><em>data_buf</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Segments a buffer into block sized chunks of data. </p>
<p>Takes a NULL terminated data buffer and returns an array of blocks, it is similar to modify_data except that no data is actually being modified. Returns an array of blocks where the last index is an entire empty block containing NULL. If an error occurs NULL is returned.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">data_buf</td><td>A NULL terminated buffer containing the data to be segmented into blocks.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>A null terminated array of blocks, where the last index is NULL, if an error occurs then NULL is returned.</dd></dl>
<dl class="section author"><dt>Author</dt><dd>Daniel Smullen</dd>
<dd>
Jonathan Gillett</dd>
<dd>
Joseph Heron</dd></dl>
<dl class="section copyright"><dt>Copyright</dt><dd>GNU General Public License V3 </dd></dl>

<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="write__file_8h_a3b52a4078bc59ea042a076f962d42847_icgraph.png" border="0" usemap="#write__file_8h_a3b52a4078bc59ea042a076f962d42847_icgraph" alt=""/></div>
<map name="write__file_8h_a3b52a4078bc59ea042a076f962d42847_icgraph" id="write__file_8h_a3b52a4078bc59ea042a076f962d42847_icgraph">
<area shape="rect" id="node3" href="write__file_8h.html#afa4abb6cfe6d1a2e92e9f514a117e531" title="Modifies or appends data in a buffer." alt="" coords="157,5,251,32"/><area shape="rect" id="node5" href="write__file_8h.html#a27cf11a1ac685bf2dbd4feca5f2a68dd" title="Write data to a file." alt="" coords="299,5,373,32"/><area shape="rect" id="node7" href="sfstest_8c.html#a88d3b903798a494fd7297714fd0e5c4c" title="sfs_test" alt="" coords="421,5,491,32"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a0a44cca95b59aaddaa4767ac5adb546d"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="glob__data_8h.html#a238700ea28ed21bbf81f06baafc77e1c">block</a>* segment_data_len </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="glob__data_8h.html#a82b52bf2b45e214a8f2100ebfdf1aee4">byte</a> *&#160;</td>
          <td class="paramname"><em>data_buf</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>length</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Segments a buffer into block sized chunks of data. </p>
<p>Takes a data buffer that in a multiple of BLKSIZE and returns an array of blocks, it is similar to modify_data except that no data is actually being modified. Returns a 2D array where each index in the array points a block, the last index points to NULL. If an error occurs NULL is returned.</p>
<dl class="section pre"><dt>Precondition</dt><dd>data_buf MUST be a buffer that is EXACTLY a multiple of BLKSIZE, it does not necessarily need to be NULL terminated.</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">data_buf</td><td>A buffer containing the data to be segmented into blocks.</td></tr>
    <tr><td class="paramname">length</td><td>The length of the buffer in bytes to be segmented into blocks.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Returns a null terminated array of blocks, where the last index is NULL, if an error occurs then NULL is returned. </dd></dl>

<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="write__file_8h_a0a44cca95b59aaddaa4767ac5adb546d_icgraph.png" border="0" usemap="#write__file_8h_a0a44cca95b59aaddaa4767ac5adb546d_icgraph" alt=""/></div>
<map name="write__file_8h_a0a44cca95b59aaddaa4767ac5adb546d_icgraph" id="write__file_8h_a0a44cca95b59aaddaa4767ac5adb546d_icgraph">
<area shape="rect" id="node3" href="free__block__list_8h.html#a1a24d3e02317587656b22b7207cdb3fe" title="Synchronizes the free block static instance in memory by writing it to disk." alt="" coords="199,69,270,96"/><area shape="rect" id="node18" href="initialize_8h.html#a00a2a52d3dc5dd4ec595881132e0e280" title="Allocate all of the blocks in the free block list." alt="" coords="181,132,288,159"/><area shape="rect" id="node5" href="create__file_8h.html#a10498692a07aacf1e88110005e3f2f3f" title="Creates a new file or directory at the path specified." alt="" coords="336,107,419,133"/><area shape="rect" id="node12" href="delete__file_8h.html#ad7cc263f6e467c2eb2f8f73a6eb9d1c3" title="Delete a file with the pathname specified." alt="" coords="473,56,556,83"/><area shape="rect" id="node15" href="write__file_8h.html#a27cf11a1ac685bf2dbd4feca5f2a68dd" title="Write data to a file." alt="" coords="340,5,415,32"/><area shape="rect" id="node7" href="initialize_8h.html#a19433b013c630f41f2a2162275594858" title="Initialize the superblock for the file system." alt="" coords="467,157,562,184"/><area shape="rect" id="node9" href="sfstest_8c.html#a88d3b903798a494fd7297714fd0e5c4c" title="sfs_test" alt="" coords="611,81,680,108"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a27cf11a1ac685bf2dbd4feca5f2a68dd"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int sfs_write </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>fd</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>start</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>length</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="glob__data_8h.html#a82b52bf2b45e214a8f2100ebfdf1aee4">byte</a> *&#160;</td>
          <td class="paramname"><em>mem_pointer</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Write data to a file. </p>
<p>Write the length bytes of data specified from a memory location to the specified file. The parameter start gives the offset of the first byte in the file that should be copied to. Alternatively, the value of start may be set to -1, this indicates that the specified number of bytes should be appended to the file. Appending (setting start to -1) is the only allowable way to increase the length of a file.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">fd</td><td>A file descriptor for the file to write data to.</td></tr>
    <tr><td class="paramname">start</td><td>The offset of the first byte in the file that should be written to, if start is -1 then the data will be appended to the file.</td></tr>
    <tr><td class="paramname">length</td><td>The length of bytes of data to be written to the file.</td></tr>
    <tr><td class="paramname">mem_pointer</td><td>The memory location containing the bytes to write to file.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Returns an integer value, if the value &gt; 0 the file write was a success, and if the value &lt;= 0 the file write was unsuccessful.</dd></dl>
<dl class="exception"><dt>Exceptions</dt><dd>
  <table class="exception">
    <tr><td class="paramname">INVALID_FILE_DESCRIPTOR</td><td>If the file descriptor specified does not exist or is invalid.</td></tr>
    <tr><td class="paramname">INSUFFICIENT_DISK_SPACE</td><td>If the length of the blocks to be written plus the size of the index overhead is greater than the amount of free blocks on disk.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section author"><dt>Author</dt><dd>Daniel Smullen</dd>
<dd>
Jonathan Gillett</dd>
<dd>
Joseph Heron</dd></dl>
<dl class="section copyright"><dt>Copyright</dt><dd>GNU General Public License V3 </dd></dl>
<p>Display the number of free blocks</p>

<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="write__file_8h_a27cf11a1ac685bf2dbd4feca5f2a68dd_cgraph.png" border="0" usemap="#write__file_8h_a27cf11a1ac685bf2dbd4feca5f2a68dd_cgraph" alt=""/></div>
<map name="write__file_8h_a27cf11a1ac685bf2dbd4feca5f2a68dd_cgraph" id="write__file_8h_a27cf11a1ac685bf2dbd4feca5f2a68dd_cgraph">
<area shape="rect" id="node3" href="_i__node_8c.html#ad59a7398af73012142f32ee8fc377b61" title="Get an inode set to null state." alt="" coords="151,5,257,32"/><area shape="rect" id="node5" href="system__open__file__table_8c.html#abcb97049b41ee4a0a04800b6b48efd6c" title="Validate whether the given file descriptor is a valid file descriptor in the system wide open file ta..." alt="" coords="161,56,247,83"/><area shape="rect" id="node7" href="error_8c.html#af85f0519da49c9e50bf3d1feffa74ef3" title="Prints an error code." alt="" coords="164,107,244,133"/><area shape="rect" id="node9" href="system__open__file__table_8c.html#aad11d05dccc34b2921e2482e743f32e6" title="Get an inode instance from the system wide open file table." alt="" coords="145,216,263,243"/><area shape="rect" id="node13" href="glob__func_8c.html#a4f496ee5ac2e8ea15ed2d44dd16828a1" title="Allocate a buffer to write to memory of a given size." alt="" coords="558,225,650,252"/><area shape="rect" id="node19" href="system__open__file__table_8c.html#a58c99881ad30ffc6348f9007334740b2" title="Get the location of the inode on disk which corresponds to a file descriptor." alt="" coords="153,1008,255,1035"/><area shape="rect" id="node21" href="index__block_8c.html#a58c6c55e76e88de10da638a624574947" title="This function takes an index block data structure and returns the locations of all data blocks which ..." alt="" coords="356,427,452,453"/><area shape="rect" id="node29" href="index__block_8c.html#aa8336ecef5a6f9f6881a3e6a498bc543" title="Provides the locations of the index blocks within an index block data structure." alt="" coords="329,552,479,579"/><area shape="rect" id="node35" href="block__func_8c.html#a758063a96fe0be00a4b59b9869a0af62" title="Get the data blocks and concatenate them into a large byte buffer." alt="" coords="368,251,440,277"/><area shape="rect" id="node40" href="glob__func_8c.html#a3caff7b79c5ce4e5d5a4583b86d8e5bc" title="Calculates the number of blocks needed to store data." alt="" coords="143,1109,265,1136"/><area shape="rect" id="node42" href="glob__func_8c.html#aed567cb73e667eeb50d5c1320ee29f38" title="Calculate the number of bytes in a byte buffer." alt="" coords="345,1084,463,1111"/><area shape="rect" id="node45" href="write__file_8c.html#afa4abb6cfe6d1a2e92e9f514a117e531" title="Modifies or appends data in a buffer." alt="" coords="157,704,251,731"/><area shape="rect" id="node50" href="free__block__list_8c.html#a82bb5a646a9f221b4b1b333cd1e142ea" title="Used to calculate whether there is enough disk space before starting to create a file on disk..." alt="" coords="528,881,680,908"/><area shape="rect" id="node52" href="index__block_8c.html#a7bfc6472e986ea83b6f5a14def157883" title="Calculates the number of index blocks that are needed in order to write the number of data blocks spe..." alt="" coords="139,1160,269,1187"/><area shape="rect" id="node54" href="free__block__list_8c.html#acbfc0a3810742af6e976d135071261e1" title="Finds the next free block in the static free block list, marks it as used and returns the location of..." alt="" coords="351,856,457,883"/><area shape="rect" id="node57" href="block__func_8c.html#a8d2c516f00e918d009b5fbaf1cfa463b" title="A wrapper for the put_block function." alt="" coords="560,780,648,807"/><area shape="rect" id="node61" href="free__block__list_8c.html#adafbfcac2573a9ee6a15645d4fe825c0" title="Accessor method for the free block list static instance in memory." alt="" coords="563,957,645,984"/><area shape="rect" id="node64" href="free__block__list_8c.html#ae1a3d63476e1321750e8e4aedbc53f07" title="Overwrites the free block list in memory with the most recent version on disk." alt="" coords="168,364,240,391"/><area shape="rect" id="node72" href="index__block_8c.html#afd54d9d51e9832a5a52ac0aa470b0d12" title="Takes a series of loose data block locations and builds a new index to link them with an inode..." alt="" coords="155,805,253,832"/><area shape="rect" id="node77" href="glob__func_8c.html#a29366f8689bb05dc0f4abe8f6415756b" title="Copy the data from one buffer to another, given the size of both." alt="" coords="157,1211,251,1237"/><area shape="rect" id="node80" href="free__block__list_8c.html#a1a24d3e02317587656b22b7207cdb3fe" title="Synchronizes the free block static instance in memory by writing it to disk." alt="" coords="169,477,239,504"/><area shape="rect" id="node87" href="free__block__list_8c.html#a4006c8928b03cc8367e345842cd263ae" title="Used to calculate the total amount of available disk space." alt="" coords="128,1261,280,1288"/><area shape="rect" id="node11" href="_i__node_8c.html#a82f261d23645f5610e7c32f3b34d919c" title="Get the contents of an inode given its location on disk." alt="" coords="365,200,443,227"/><area shape="rect" id="node15" href="block__func_8c.html#a1dcadd38a012a1218ab2100bda116861" title="A wrapper for the get_block function." alt="" coords="561,327,647,353"/><area shape="rect" id="node17" href="blockio_8c.html#aba494f8ba12c5888abc3991a9a1a4fa0" title="Retrieves a block from disk." alt="" coords="729,327,807,353"/><area shape="rect" id="node24" href="glob__func_8c.html#ae6b48ca0727ba8a874b5442254e1d31a" title="Concatenate two arrays." alt="" coords="573,464,635,491"/><area shape="rect" id="node26" href="glob__func_8c.html#a12db81dbcf4d3c41013509bb19d7053c" title="Concatenate two byte arrays." alt="" coords="561,533,647,560"/><area shape="rect" id="node47" href="write__file_8c.html#a3b52a4078bc59ea042a076f962d42847" title="Segments a buffer into block sized chunks of data." alt="" coords="352,653,456,680"/><area shape="rect" id="node59" href="blockio_8c.html#a800219862241422fe7dee4411b4b995e" title="Writes a block to disk." alt="" coords="729,780,807,807"/><area shape="rect" id="node66" href="super__block_8c.html#a6bea61bb8314c0f57646b8337d5adf48" title="Get the location of the free block list&#39;s first index block." alt="" coords="331,352,477,379"/><area shape="rect" id="node84" href="write__file_8c.html#a0a44cca95b59aaddaa4767ac5adb546d" title="Segments a buffer into block sized chunks of data." alt="" coords="340,477,468,504"/></map>
</div>
</p>

<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="write__file_8h_a27cf11a1ac685bf2dbd4feca5f2a68dd_icgraph.png" border="0" usemap="#write__file_8h_a27cf11a1ac685bf2dbd4feca5f2a68dd_icgraph" alt=""/></div>
<map name="write__file_8h_a27cf11a1ac685bf2dbd4feca5f2a68dd_icgraph" id="write__file_8h_a27cf11a1ac685bf2dbd4feca5f2a68dd_icgraph">
<area shape="rect" id="node3" href="sfstest_8c.html#a88d3b903798a494fd7297714fd0e5c4c" title="sfs_test" alt="" coords="128,5,197,32"/></map>
</div>
</p>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="dir_68267d1309a1af8e8297ef4c3efbcdba.html">src</a></li><li class="navelem"><a class="el" href="write__file_8h.html">write_file.h</a></li>
    
    
    
  </ul>
</div>
</body>
</html>
