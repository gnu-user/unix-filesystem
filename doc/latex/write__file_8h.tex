\hypertarget{write__file_8h}{\section{write\-\_\-file.\-h File Reference}
\label{write__file_8h}\index{write\-\_\-file.\-h@{write\-\_\-file.\-h}}
}
{\ttfamily \#include \char`\"{}error.\-h\char`\"{}}\\*
Include dependency graph for write\-\_\-file.\-h\-:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=144pt]{write__file_8h__incl}
\end{center}
\end{figure}
This graph shows which files directly or indirectly include this file\-:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=144pt]{write__file_8h__dep__incl}
\end{center}
\end{figure}
\subsection*{Functions}
\begin{DoxyCompactItemize}
\item 
\hyperlink{glob__data_8h_a238700ea28ed21bbf81f06baafc77e1c}{block} $\ast$ \hyperlink{write__file_8h_afa4abb6cfe6d1a2e92e9f514a117e531}{modify\-\_\-data} (int32\-\_\-t start, uint32\-\_\-t length, \hyperlink{glob__data_8h_a82b52bf2b45e214a8f2100ebfdf1aee4}{byte} $\ast$data\-\_\-buf, \hyperlink{glob__data_8h_a82b52bf2b45e214a8f2100ebfdf1aee4}{byte} $\ast$actual\-\_\-data)
\begin{DoxyCompactList}\small\item\em Modifies or appends data in a buffer. \end{DoxyCompactList}\item 
\hyperlink{glob__data_8h_a238700ea28ed21bbf81f06baafc77e1c}{block} $\ast$ \hyperlink{write__file_8h_a3b52a4078bc59ea042a076f962d42847}{segment\-\_\-data} (\hyperlink{glob__data_8h_a82b52bf2b45e214a8f2100ebfdf1aee4}{byte} $\ast$data\-\_\-buf)
\begin{DoxyCompactList}\small\item\em Segments a buffer into block sized chunks of data. \end{DoxyCompactList}\item 
\hyperlink{glob__data_8h_a238700ea28ed21bbf81f06baafc77e1c}{block} $\ast$ \hyperlink{write__file_8h_a0a44cca95b59aaddaa4767ac5adb546d}{segment\-\_\-data\-\_\-len} (\hyperlink{glob__data_8h_a82b52bf2b45e214a8f2100ebfdf1aee4}{byte} $\ast$data\-\_\-buf, uint32\-\_\-t length)
\begin{DoxyCompactList}\small\item\em Segments a buffer into block sized chunks of data. \end{DoxyCompactList}\item 
int \hyperlink{write__file_8h_a27cf11a1ac685bf2dbd4feca5f2a68dd}{sfs\-\_\-write} (int fd, int start, int length, \hyperlink{glob__data_8h_a82b52bf2b45e214a8f2100ebfdf1aee4}{byte} $\ast$mem\-\_\-pointer)
\begin{DoxyCompactList}\small\item\em Write data to a file. \end{DoxyCompactList}\end{DoxyCompactItemize}


\subsection{Function Documentation}
\hypertarget{write__file_8h_afa4abb6cfe6d1a2e92e9f514a117e531}{\index{write\-\_\-file.\-h@{write\-\_\-file.\-h}!modify\-\_\-data@{modify\-\_\-data}}
\index{modify\-\_\-data@{modify\-\_\-data}!write_file.h@{write\-\_\-file.\-h}}
\subsubsection[{modify\-\_\-data}]{\setlength{\rightskip}{0pt plus 5cm}{\bf block}$\ast$ modify\-\_\-data (
\begin{DoxyParamCaption}
\item[{int32\-\_\-t}]{start, }
\item[{uint32\-\_\-t}]{length, }
\item[{{\bf byte} $\ast$}]{data\-\_\-buf, }
\item[{{\bf byte} $\ast$}]{actual\-\_\-data}
\end{DoxyParamCaption}
)}}\label{write__file_8h_afa4abb6cfe6d1a2e92e9f514a117e531}


Modifies or appends data in a buffer. 

Modifies the data in the buffer with the actual data provided at the starting point and length of data specified. If the starting value is -\/1 then the data is appended to the buffer for the length specified.

\begin{DoxyNote}{Note}
In order to provide support for appending data using start = -\/1, the parameter type M\-U\-S\-T be signed, which is int32\-\_\-t.
\end{DoxyNote}

\begin{DoxyParams}{Parameters}
{\em start} & The starting offset to alter the data at. If the value provided is -\/1, append data to the end of the buffer. If start $>$= 0 then actual data is inserted (overwrites) from start for the length of actual data.\\
\hline
{\em length} & The length of data to overwrite in the buffer, or to append to the buffer.\\
\hline
{\em data\-\_\-buf} & A pointer to the data buffer to be altered or appended to.\\
\hline
{\em actual\-\_\-data} & The data to overwrite the data buffer with or append to.\\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
Returns a null terminated array of blocks, if an error occurs then N\-U\-L\-L is returned.
\end{DoxyReturn}
\begin{DoxyAuthor}{Author}
Daniel Smullen

Jonathan Gillett

Joseph Heron
\end{DoxyAuthor}
\begin{DoxyCopyright}{Copyright}
G\-N\-U General Public License V3 
\end{DoxyCopyright}


Here is the call graph for this function\-:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=264pt]{write__file_8h_afa4abb6cfe6d1a2e92e9f514a117e531_cgraph}
\end{center}
\end{figure}




Here is the caller graph for this function\-:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=330pt]{write__file_8h_afa4abb6cfe6d1a2e92e9f514a117e531_icgraph}
\end{center}
\end{figure}


\hypertarget{write__file_8h_a3b52a4078bc59ea042a076f962d42847}{\index{write\-\_\-file.\-h@{write\-\_\-file.\-h}!segment\-\_\-data@{segment\-\_\-data}}
\index{segment\-\_\-data@{segment\-\_\-data}!write_file.h@{write\-\_\-file.\-h}}
\subsubsection[{segment\-\_\-data}]{\setlength{\rightskip}{0pt plus 5cm}{\bf block}$\ast$ segment\-\_\-data (
\begin{DoxyParamCaption}
\item[{{\bf byte} $\ast$}]{data\-\_\-buf}
\end{DoxyParamCaption}
)}}\label{write__file_8h_a3b52a4078bc59ea042a076f962d42847}


Segments a buffer into block sized chunks of data. 

Takes a N\-U\-L\-L terminated data buffer and returns an array of blocks, it is similar to modify\-\_\-data except that no data is actually being modified. Returns an array of blocks where the last index is an entire empty block containing N\-U\-L\-L. If an error occurs N\-U\-L\-L is returned.


\begin{DoxyParams}{Parameters}
{\em data\-\_\-buf} & A N\-U\-L\-L terminated buffer containing the data to be segmented into blocks.\\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
A null terminated array of blocks, where the last index is N\-U\-L\-L, if an error occurs then N\-U\-L\-L is returned.
\end{DoxyReturn}
\begin{DoxyAuthor}{Author}
Daniel Smullen

Jonathan Gillett

Joseph Heron
\end{DoxyAuthor}
\begin{DoxyCopyright}{Copyright}
G\-N\-U General Public License V3 
\end{DoxyCopyright}


Here is the caller graph for this function\-:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{write__file_8h_a3b52a4078bc59ea042a076f962d42847_icgraph}
\end{center}
\end{figure}


\hypertarget{write__file_8h_a0a44cca95b59aaddaa4767ac5adb546d}{\index{write\-\_\-file.\-h@{write\-\_\-file.\-h}!segment\-\_\-data\-\_\-len@{segment\-\_\-data\-\_\-len}}
\index{segment\-\_\-data\-\_\-len@{segment\-\_\-data\-\_\-len}!write_file.h@{write\-\_\-file.\-h}}
\subsubsection[{segment\-\_\-data\-\_\-len}]{\setlength{\rightskip}{0pt plus 5cm}{\bf block}$\ast$ segment\-\_\-data\-\_\-len (
\begin{DoxyParamCaption}
\item[{{\bf byte} $\ast$}]{data\-\_\-buf, }
\item[{uint32\-\_\-t}]{length}
\end{DoxyParamCaption}
)}}\label{write__file_8h_a0a44cca95b59aaddaa4767ac5adb546d}


Segments a buffer into block sized chunks of data. 

Takes a data buffer that in a multiple of B\-L\-K\-S\-I\-Z\-E and returns an array of blocks, it is similar to modify\-\_\-data except that no data is actually being modified. Returns a 2\-D array where each index in the array points a block, the last index points to N\-U\-L\-L. If an error occurs N\-U\-L\-L is returned.

\begin{DoxyPrecond}{Precondition}
data\-\_\-buf M\-U\-S\-T be a buffer that is E\-X\-A\-C\-T\-L\-Y a multiple of B\-L\-K\-S\-I\-Z\-E, it does not necessarily need to be N\-U\-L\-L terminated.
\end{DoxyPrecond}

\begin{DoxyParams}{Parameters}
{\em data\-\_\-buf} & A buffer containing the data to be segmented into blocks.\\
\hline
{\em length} & The length of the buffer in bytes to be segmented into blocks.\\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
Returns a null terminated array of blocks, where the last index is N\-U\-L\-L, if an error occurs then N\-U\-L\-L is returned. 
\end{DoxyReturn}


Here is the caller graph for this function\-:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{write__file_8h_a0a44cca95b59aaddaa4767ac5adb546d_icgraph}
\end{center}
\end{figure}


\hypertarget{write__file_8h_a27cf11a1ac685bf2dbd4feca5f2a68dd}{\index{write\-\_\-file.\-h@{write\-\_\-file.\-h}!sfs\-\_\-write@{sfs\-\_\-write}}
\index{sfs\-\_\-write@{sfs\-\_\-write}!write_file.h@{write\-\_\-file.\-h}}
\subsubsection[{sfs\-\_\-write}]{\setlength{\rightskip}{0pt plus 5cm}int sfs\-\_\-write (
\begin{DoxyParamCaption}
\item[{int}]{fd, }
\item[{int}]{start, }
\item[{int}]{length, }
\item[{{\bf byte} $\ast$}]{mem\-\_\-pointer}
\end{DoxyParamCaption}
)}}\label{write__file_8h_a27cf11a1ac685bf2dbd4feca5f2a68dd}


Write data to a file. 

Write the length bytes of data specified from a memory location to the specified file. The parameter start gives the offset of the first byte in the file that should be copied to. Alternatively, the value of start may be set to -\/1, this indicates that the specified number of bytes should be appended to the file. Appending (setting start to -\/1) is the only allowable way to increase the length of a file.


\begin{DoxyParams}{Parameters}
{\em fd} & A file descriptor for the file to write data to.\\
\hline
{\em start} & The offset of the first byte in the file that should be written to, if start is -\/1 then the data will be appended to the file.\\
\hline
{\em length} & The length of bytes of data to be written to the file.\\
\hline
{\em mem\-\_\-pointer} & The memory location containing the bytes to write to file.\\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
Returns an integer value, if the value $>$ 0 the file write was a success, and if the value $<$= 0 the file write was unsuccessful.
\end{DoxyReturn}

\begin{DoxyExceptions}{Exceptions}
{\em I\-N\-V\-A\-L\-I\-D\-\_\-\-F\-I\-L\-E\-\_\-\-D\-E\-S\-C\-R\-I\-P\-T\-O\-R} & If the file descriptor specified does not exist or is invalid.\\
\hline
{\em I\-N\-S\-U\-F\-F\-I\-C\-I\-E\-N\-T\-\_\-\-D\-I\-S\-K\-\_\-\-S\-P\-A\-C\-E} & If the length of the blocks to be written plus the size of the index overhead is greater than the amount of free blocks on disk.\\
\hline
\end{DoxyExceptions}
\begin{DoxyAuthor}{Author}
Daniel Smullen

Jonathan Gillett

Joseph Heron
\end{DoxyAuthor}
\begin{DoxyCopyright}{Copyright}
G\-N\-U General Public License V3 
\end{DoxyCopyright}
Display the number of free blocks

Here is the call graph for this function\-:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{write__file_8h_a27cf11a1ac685bf2dbd4feca5f2a68dd_cgraph}
\end{center}
\end{figure}




Here is the caller graph for this function\-:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=224pt]{write__file_8h_a27cf11a1ac685bf2dbd4feca5f2a68dd_icgraph}
\end{center}
\end{figure}


